{% extends "base.html" %}
{% block title %}Produtos{% endblock %}
{% block content %}
<h1>Produtos</h1>
<table>
    <tr>
        <th>ID</th>
        <th>Nome</th>
        <th>Descrição</th>
        <th>Preço</th>
        <th>Categoria</th>
    </tr>
    {% for produto in produtos %}
    <tr>
        <td>{{ produto['id'] }}</td>
        <td>{{ produto['nome'] }}</td>
        <td>{{ produto['descricao'] }}</td>
        <td>{{ produto['preco'] }}</td>
        <td>{{ produto['categoria'] }}</td>
    </tr>
    {% endfor %}
</table>

<h2>Adicionar Produto</h2>
<form action="{{ url_for('add_produto') }}" method="POST">
    <input type="text" name="nome" placeholder="Nome" required>
    <input type="text" name="descricao" placeholder="Descrição">
    <input type="number" name="preco" placeholder="Preço" required>
    
    <!-- Campo para Estoque -->
    <input type="number" name="estoque" placeholder="Quantidade em Estoque" min="0" required>

    <!-- Menu Dropdown de Categorias -->
    <select name="categoria_id" required>
        <option value="" disabled selected>Selecione uma Categoria</option>
        {% for categoria in categorias %}
        <option value="{{ categoria['id'] }}">{{ categoria['nome'] }}</option>
        {% endfor %}
    </select>

    <button type="submit">Adicionar</button>
</form>
{% endblock %}
